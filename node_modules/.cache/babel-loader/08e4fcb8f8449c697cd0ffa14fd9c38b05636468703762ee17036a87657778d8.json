{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Row,Col}from'react-bootstrap';import{useDispatch,useSelector}from'react-redux';import{useLocation}from'react-router-dom';import{listProducts}from'../actions/productActions';import Loader from'../components/Loader';import Message from'../components/Message';import Product from'../components/Product';import Paginate from'../components/Paginate';import ProductCarousel from'../components/ProductCarousel';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function HomeScreen(){// const [products, setProducts] = useState([])\nvar dispatch=useDispatch();var productList=useSelector(function(state){return state.productList;});var error=productList.error,loading=productList.loading,products=productList.products,page=productList.page,pages=productList.pages;var location=useLocation();var keyword=location.search;// console.log(keyword)\nuseEffect(function(){dispatch(listProducts(keyword));// async function fetchProducts(){\n//   const {data} = await axios.get('http://127.0.0.1:8000/api/products/')\n//   setProducts(data)\n// }\n// fetchProducts()\n},[dispatch,keyword]);return/*#__PURE__*/_jsxs(\"div\",{children:[!keyword&&/*#__PURE__*/_jsx(ProductCarousel,{}),/*#__PURE__*/_jsx(\"h1\",{children:\"Latest Products\"}),loading?/*#__PURE__*/_jsx(Loader,{}):error?/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:error}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Row,{children:products.map(function(product){return/*#__PURE__*/_jsx(Col,{sm:12,md:6,lg:4,xl:3,children:/*#__PURE__*/_jsx(Product,{product:product})},product._id);})}),/*#__PURE__*/_jsx(Paginate,{page:page,pages:pages,keyword:keyword})]})]});}export default HomeScreen;","map":{"version":3,"names":["React","useState","useEffect","Row","Col","useDispatch","useSelector","useLocation","listProducts","Loader","Message","Product","Paginate","ProductCarousel","axios","jsx","_jsx","jsxs","_jsxs","HomeScreen","dispatch","productList","state","error","loading","products","page","pages","location","keyword","search","children","variant","map","product","sm","md","lg","xl","_id"],"sources":["C:/A-Mart-Frontend/frontend/src/screens/HomeScreen.js"],"sourcesContent":["import React, {useState, useEffect} from 'react'\r\nimport { Row, Col } from 'react-bootstrap'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { useLocation } from 'react-router-dom'\r\nimport { listProducts } from '../actions/productActions'\r\nimport Loader from '../components/Loader'\r\nimport Message from '../components/Message'\r\nimport Product from '../components/Product'\r\nimport Paginate from '../components/Paginate'\r\nimport ProductCarousel from '../components/ProductCarousel'\r\nimport axios from 'axios'\r\n\r\nfunction HomeScreen() {\r\n  // const [products, setProducts] = useState([])\r\n\r\n  const dispatch = useDispatch()\r\n  const productList = useSelector(state => state.productList)\r\n  const {error, loading, products, page, pages} = productList\r\n\r\n  const location = useLocation()\r\n  let keyword = location.search\r\n\r\n  // console.log(keyword)\r\n\r\n  useEffect(() => {\r\n    dispatch(listProducts(keyword))\r\n\r\n    // async function fetchProducts(){\r\n    //   const {data} = await axios.get('http://127.0.0.1:8000/api/products/')\r\n    //   setProducts(data)\r\n    // }\r\n\r\n    // fetchProducts()\r\n  }, [dispatch, keyword])\r\n  return (\r\n    <div>\r\n      {!keyword && <ProductCarousel />}\r\n      <h1>Latest Products</h1>\r\n      {loading ? (\r\n        <Loader />\r\n      ) : error ? (\r\n        <Message variant=\"danger\">{error}</Message>\r\n      ) : (\r\n        <div>\r\n          <Row>\r\n            {products.map((product) => (\r\n              <Col key={product._id} sm={12} md={6} lg={4} xl={3}>\r\n                <Product product={product} />\r\n              </Col>\r\n            ))}\r\n          </Row>\r\n          <Paginate page={page} pages={pages} keyword={keyword} />\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default HomeScreen"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAGC,QAAQ,CAAEC,SAAS,KAAO,OAAO,CAChD,OAASC,GAAG,CAAEC,GAAG,KAAQ,iBAAiB,CAC1C,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,OAASC,YAAY,KAAQ,2BAA2B,CACxD,MAAO,CAAAC,MAAM,KAAM,sBAAsB,CACzC,MAAO,CAAAC,OAAO,KAAM,uBAAuB,CAC3C,MAAO,CAAAC,OAAO,KAAM,uBAAuB,CAC3C,MAAO,CAAAC,QAAQ,KAAM,wBAAwB,CAC7C,MAAO,CAAAC,eAAe,KAAM,+BAA+B,CAC3D,MAAO,CAAAC,KAAK,KAAM,OAAO,QAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEzB,QAAS,CAAAC,UAAUA,CAAA,CAAG,CACpB;AAEA,GAAM,CAAAC,QAAQ,CAAGf,WAAW,EAAE,CAC9B,GAAM,CAAAgB,WAAW,CAAGf,WAAW,CAAC,SAAAgB,KAAK,QAAI,CAAAA,KAAK,CAACD,WAAW,GAAC,CAC3D,GAAO,CAAAE,KAAK,CAAoCF,WAAW,CAApDE,KAAK,CAAEC,OAAO,CAA2BH,WAAW,CAA7CG,OAAO,CAAEC,QAAQ,CAAiBJ,WAAW,CAApCI,QAAQ,CAAEC,IAAI,CAAWL,WAAW,CAA1BK,IAAI,CAAEC,KAAK,CAAIN,WAAW,CAApBM,KAAK,CAE5C,GAAM,CAAAC,QAAQ,CAAGrB,WAAW,EAAE,CAC9B,GAAI,CAAAsB,OAAO,CAAGD,QAAQ,CAACE,MAAM,CAE7B;AAEA5B,SAAS,CAAC,UAAM,CACdkB,QAAQ,CAACZ,YAAY,CAACqB,OAAO,CAAC,CAAC,CAE/B;AACA;AACA;AACA;AAEA;AACF,CAAC,CAAE,CAACT,QAAQ,CAAES,OAAO,CAAC,CAAC,CACvB,mBACEX,KAAA,QAAAa,QAAA,EACG,CAACF,OAAO,eAAIb,IAAA,CAACH,eAAe,IAAG,cAChCG,IAAA,OAAAe,QAAA,CAAI,iBAAe,EAAK,CACvBP,OAAO,cACNR,IAAA,CAACP,MAAM,IAAG,CACRc,KAAK,cACPP,IAAA,CAACN,OAAO,EAACsB,OAAO,CAAC,QAAQ,CAAAD,QAAA,CAAER,KAAK,EAAW,cAE3CL,KAAA,QAAAa,QAAA,eACEf,IAAA,CAACb,GAAG,EAAA4B,QAAA,CACDN,QAAQ,CAACQ,GAAG,CAAC,SAACC,OAAO,qBACpBlB,IAAA,CAACZ,GAAG,EAAmB+B,EAAE,CAAE,EAAG,CAACC,EAAE,CAAE,CAAE,CAACC,EAAE,CAAE,CAAE,CAACC,EAAE,CAAE,CAAE,CAAAP,QAAA,cACjDf,IAAA,CAACL,OAAO,EAACuB,OAAO,CAAEA,OAAQ,EAAG,EADrBA,OAAO,CAACK,GAAG,CAEf,EACP,CAAC,EACE,cACNvB,IAAA,CAACJ,QAAQ,EAACc,IAAI,CAAEA,IAAK,CAACC,KAAK,CAAEA,KAAM,CAACE,OAAO,CAAEA,OAAQ,EAAG,GAE3D,GACG,CAEV,CAEA,cAAe,CAAAV,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}